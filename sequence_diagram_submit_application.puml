@startuml
' Файл: sequence_diagram_submit_application.puml
' Диаграмма последовательности для прецедента "Подать заявку"

title "Последовательность: Подача заявки на грант"

actor "Соискатель" as Applicant
participant "Система" as System
participant "База данных" as DB

activate Applicant
Applicant -> System: Запрашивает форму подачи заявки
activate System

System --> Applicant: Отображает форму
deactivate System

Applicant -> System: Заполняет и отправляет форму (название, описание)
activate System

System -> System: Валидация данных заявки
alt Успешная валидация
    System -> DB: Создать новую запись о заявке (title, description, applicantId, status='SUBMITTED')
    activate DB
    DB --> System: Возвращает ID новой заявки
    deactivate DB
    
    System --> Applicant: Уведомление об успешной подаче с ID заявки
else Неуспешная валидация
    System --> Applicant: Сообщение об ошибке валидации
end

deactivate System
deactivate Applicant

@enduml
